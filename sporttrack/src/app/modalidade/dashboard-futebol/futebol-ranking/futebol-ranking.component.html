<div class="ranking mat-elevation-z1">
  <mat-card-content>
    <div class="ranking-content" style="margin-left: 20px">
      <h3>RANKING</h3>
      <form>
          <mat-form-field>
              <mat-select placeholder="VariÃ¡veis" [(ngModel)]="selectedVariable" name="variavel" (selectionChange)="changeVariable($event.value)">
                <mat-option *ngFor="let vrvl of variaveis" [value]="vrvl.id">
                  {{ vrvl.nome }}
                </mat-option>
              </mat-select>
            </mat-form-field>
      </form>
      <mat-table #table [dataSource]="dataSource" matSort aria-label="Elements">

        <!-- Id Rank -->
        <ng-container matColumnDef="rank">
          <mat-header-cell *matHeaderCellDef mat-sort-header>#</mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.rank}}</mat-cell>
        </ng-container>

        <!-- Name Entidade -->
        <ng-container matColumnDef="nome">
          <mat-header-cell *matHeaderCellDef mat-sort-header>Entidade</mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.nomeEntidade}}</mat-cell>
        </ng-container>

        <!-- Name Valor -->
        <ng-container matColumnDef="valor">
          <mat-header-cell *matHeaderCellDef mat-sort-header>Valor</mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.valor.toLocaleString('pt')}}</mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row class="selectedRow" *matRowDef="let row; columns: displayedColumns;" (click)="onSelect(row)"></mat-row>
      </mat-table>

      <div class="example-section">
        <mat-progress-spinner *ngIf="dataLoaded === false" [diameter]="60" [color]="spinnerColor" [mode]="spinnerMode">
        </mat-progress-spinner>
      </div>

      <mat-paginator #paginator [length]="0" [pageIndex]="0" [pageSize]="7" [pageSizeOptions]="[7]">
      </mat-paginator>
    </div>
  </mat-card-content>
</div>
